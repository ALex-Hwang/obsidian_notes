# File System

## Device Special Files (Devices)
A device special file corresponds to a device on the system.
Devices can be divided into two types:
- `Character devices` handle data on a character-by-character basis. Terminals and keyboards are examples of character devices.
- `Block devices` handle data a block at a time. Examples of block devices include disks and tape drives.

Device files are usually under the `/dev`, the superuser can create a device file using the `mknod` command.

### Device IDs
Each device file has a `major ID number` and a `minor ID number`. The major ID identifies the general class of device, and minor ID uniquely identifies a particular device within a general class.


## Disks and Partitions
#### Disk partitions
Each disk is divided into one or more (non-overlapping) *partitions*. Each partition is treated by the kernel as a separate device residing under `/dev`.

> The `/proc/partitions` file lists the major and minor device numbers, size and name of each disk partition on the system.


## File Systems
### File-system structure
![[fs-structure.png]]

A file system contains the following parts:
- **Boot block**: always the first block in a file system. It is not used by the file system, but it contains information used to boot the OS. Although only one boot block is used to boot the OS, all file systems have a boot block
- **Superblock**: single block containing parameter information about the file system, including:
	- the size of the i-node table
	- the size of logical blocks in this file system
	- the size of the file system in logical blocks
- I-node table
- Data blocks

## I-nodes
