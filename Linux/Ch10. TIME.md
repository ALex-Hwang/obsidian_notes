# Ch10. TIME
 Within a program, we may be interested in two kinds of time:
 - Real time
 - Process time

In this chapter, we look at system calls for dealing with both sorts of time, and library functions for converting between human-readable and internal representations of time.

## Calendar Time
UNIX systems represent time internally as a measure of seconds since the Epoch (1970.01.01). Calendar time is stored in variables of type *time_t*, an integer type specified by SUSv3.

```c
#include <sys/time.h>

int gettimeofday(struct timeval *tv, struct timezone *tz);
// Returns 0 on success, or -1 on error.
```

The *tv* argument is a pointer to a structure of the following form:
```c
struct timeval {
	time_t tv_sec; // Secs since 00:00:00, 1 Jan 1970 UTC
	suseconds_t tv_usec; 
}
```

The *time()* system call returns the number of seconds since the Epoch (the same value that *gettimeofday(*)* returns in the *tv_sec* field of its *tv* argument).

```c
#include <time.h>

time_t time(time_t *timep);
// Returns number of seconds since the Epoch, or -1 on error.
```

> The existence of `time()` is now redundant.

## Time Conversion Functions
![[time_conversion.png]]

### Converting *time_t* to Printable Form

The `ctime()` function provides a simple method of converting a `time_t` value into printable form.

```c
#include <time.h>

char *ctime(const time_t *timep);
// Returns pointer to statically allocated string terminated by newline and \0 on success, or NULL on error.
```
